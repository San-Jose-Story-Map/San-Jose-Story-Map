<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>San Jose Story Map</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
    <link href="css/map.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id='map'>
        <!-- this is where the map is populated by javascript -->
    </div>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiYW5nZWxhYmVsZWwiLCJhIjoiY2tmZjBiOTJ1MDYxcTJ4bGFzaHdyOGxqMiJ9.JJKlupKeMOJml7UyPVzvKg';

        var sanjose = [-121.8863, 37.3382];
        //create new map

        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            zoom: 12,
            // center: sanjose
        });


        map.flyTo({
            center: sanjose,
            speed: 1
        });

        map.addControl(
            new mapboxgl.GeolocateControl({
                positionOptions: {
                    enableHighAccuracy: true
                },
                trackUserLocation: true
            })
        );

        // create the popup
        var popup = new mapboxgl.Popup({
            offset: 25
        }).setText(
            'Construction on the Washington Monument began in 1848.'
        );

        // create DOM element for the marker
        var sjelem = document.createElement('div');
        sjelem.id = 'sjmarker';

        // create the marker
        new mapboxgl.Marker(sjelem)
            .setLngLat(sanjose)
            .setPopup(popup) // sets a popup on this marker
            .addTo(map);

    </script>

</body>

</html>
